# WarsawPublicTransport

This project aims to gather precise arrival timings for both buses and trams at every stop located in Warsaw and compute the delays for buses. The project is divided into two scripts:

1. Timetable script.ipynb\n
The primary objective of this script is to gather accurate arrival time data. It collects information about all the stops in Warsaw through the API access point https://api.um.warszawa.pl/.\n
In the first stage, the script collects data of all stops in Warsaw. This data includes stop number (zespol), stop label (slupek), longitude (dlug_geo), and latitude (szer_geo).\n
At the second stage, the script sends a request to the API for each stop number, stop label, and line number to collect accurate arrival time data. Using this information, it generates a timetable DataFrame, which includes fleet number (brygada), time (czas), stop name (stop_name), stop number (stop_id), stop label (bus_stop_nr), line number (line), longitude (Lon), and latitude (Lat). Finally, it saves this DataFrame as a timetable.csv file, which is available in the repository.

    ![image](https://user-images.githubusercontent.com/55345644/224540184-554073fd-7233-4785-b70c-f42a9458f688.png)


2. Delays script.ipynb
The objective of this script is to compute bus delays in Warsaw. The delays are determined by analyzing data from two sources:

The timetable.csv file, which was generated by the previous script and provides information about where a particular bus should be at a specific time.
API requests that provide real-time information about the current location of the buses.
The script imports the needed libraries such as pandas, requests, dateutil, datetime, and json. It then reads the timetable.csv file and collects real-time data from the API. The script compares the expected arrival time from the timetable.csv file with the current location of the bus obtained from the API to compute delays.

Finally, the script generates a DataFrame that includes fleet number (brygada), line number (line), expected arrival time (arrival_time), current location (current_location), delay (delay), and timestamp (timestamp).
